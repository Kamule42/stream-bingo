<div id="plan-root" class="container">
  <h4 class="title is-4">Planification</h4>
  <p-card>
    <div id="plan-content">
      <p-table [value]="toEdit$()" dataKey="id" stripedRows>
        <ng-template #emptymessage>
          Aucune partie de pr√©vue
        </ng-template>
        <ng-template #caption>
          <div class="is-flex is-flex-direction-row is-justify-content-end">
            <p-button
              label="Ajouter" icon="mdi mdi-plus" text
              [disabled]="!canAddRound$()"
              (onClick)="addNewRound()" />
          </div>
        </ng-template>
        <ng-template #header>
          <tr>
            <th pSortableColumn="name">Nom <p-sortIcon field="name" /></th>
            <th>Status <p-sortIcon field="status" /></th>
          </tr>
        </ng-template>
        <ng-template #body let-round>
          <tr>
            <td [pEditableColumn]="round.name" pEditableColumnField="name">
              <p-cellEditor>
                <ng-template #input>
                  <input pInputText type="text" [(ngModel)]="round.name" (keydown)="stopNavigation($event)" />
                </ng-template>
                <ng-template #output>
                  {{ round.name }}
                </ng-template>
              </p-cellEditor>
            </td>
            <td>
              {{ round.status}}
            </td>
          </tr>
        </ng-template>
      </p-table>
      <div id="plan-actions">
        <p-button label="Annuler" severity="secondary" (onClick)="cancel()" />
        <p-button label="Sauvegarder" (onClick)="saveTimeline()" />
      </div>
    </div>
  </p-card>
</div>
